<div id="bootstrap-theme" class="api4-explorer-page">
  <div crm-ui-debug="params"></div>

  <h1 crm-page-title>
    {{ entity ? ts('Api Explorer:') : ts('Api Explorer') }} {{ entity }}{{ action ? ('::' + action) : '' }}
  </h1>

  <div class="row">
    <div class="col-md-8">
      <form name="api4-explorer" class="panel panel-default explorer-params-panel">
        <div class="panel-heading">
          <div class="form-inline">
            <input class="form-control" ng-model="entity" crm-ui-select="{placeholder: ts('Entity'), data: entities}" />
            <input class="form-control" ng-model="action" ng-disabled="!entity || !actions.length" ng-class="{loading: entity && !actions.length}" crm-ui-select="{placeholder: ts('Action'), data: actions}" />
            <button class="btn btn-success pull-right" crm-icon="fa-bolt" ng-disabled="!entity || !action" ng-click="execute()">{{ ts('Execute') }}</button>
          </div>
        </div>
        <div class="panel-body">
          <input class="form-control" ng-repeat="(name, param) in availableParams" placeholder="{{ name }}" ng-model="params[name]"/>
        </div>
      </form>
    </div>
    <div class="col-md-4">
      <div class="panel panel-default explorer-help-panel">
        <div class="panel-heading">
          <h3 class="panel-title" crm-icon="fa-info-circle">{{ helpTitle }}</h3>
        </div>
        <div class="panel-body">
          <p ng-repeat="help in helpText">{{ help }}</p>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <div class="panel panel-default explorer-code-panel">
        <div class="panel-heading">
          <h3 class="panel-title" crm-icon="fa-code">{{ ts('Code') }}</h3>
        </div>
        <div class="panel-body">
          <table>
            <tr ng-repeat="(type, item) in code">
              <td>{{ type }}</td>
              <td><pre>{{ item }}</pre></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="panel panel-default explorer-result-panel">
        <div class="panel-heading">
          <h3 class="panel-title" crm-icon="fa-table">{{ ts('Result') }}</h3>
        </div>
        <div class="panel-body">
          <pre ng-repeat="code in result">{{ code }}</pre>
        </div>
      </div>
    </div>
  </div>


</div>
